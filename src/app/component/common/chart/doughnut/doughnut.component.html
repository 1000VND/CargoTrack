<div class="doughnutchart-container d-flex flex-column justify-content-center align-items-center p-0">
  <!-- 
    innerRadius: Độ dày/mỏng của vòng tròn bên trong
    startAngle: Góc bắt đầu của vòng tròn
    resolveLabelOverlapping: Xử lý hiển thị nhãn trùng lắp 
    -->
  <dx-pie-chart #pieChart id="chart" class="px-0" type="doughnut" centerTemplate="centerTemplate"
    [palette]="colorPalette" [dataSource]="dataSource" [innerRadius]="0.6" [startAngle]="110"
    [resolveLabelOverlapping]="'none'">
    <dxi-series argumentField="argument" valueField="value">
      <dxo-label [visible]="true" [customizeText]="customizeLabel" [backgroundColor]="'transparent'">
        <dxo-font color="#321523"></dxo-font>
        <dxo-connector color="#321523" [visible]="true"></dxo-connector>
      </dxo-label>
    </dxi-series>
    <dxo-export [enabled]="false"></dxo-export>
    <dxo-legend [visible]="false"></dxo-legend>
    <dxo-tooltip [enabled]="false" [customizeTooltip]="customizeLabel">
    </dxo-tooltip>

    <svg *dxTemplate="let pieChart of 'centerTemplate'">
      <circle cx="100" cy="100" [attr.r]="pieChart.getInnerRadius() - 6" fill="#ffffff"></circle>
      <text text-anchor="middle" style="font-size: 18px" x="100" y="100" fill="#494949">
        <tspan x="100" y="95" style="font-weight: 600">
          {{totalCenterValue}}
        </tspan>
        <tspan x="100" y="120" style="font-size: 12px; font-weight: normal;">phương tiện</tspan>
      </text>
    </svg>
  </dx-pie-chart>

  <div class="marker-legend d-flex justify-content-center px-0 gap-3">
    <div class="d-flex align-items-center gap-2" *ngFor="let item of legend">
      <div class="marker-legend-icon" [style.background-color]="item.color">
      </div>
      <span class="marker-legend-label">{{item.label}}</span>
    </div>
  </div>
</div>